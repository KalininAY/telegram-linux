# Telegram Linux Server (Python FastAPI)

–í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π sudo –ø–∞—Ä–æ–ª—è.

## üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **FastAPI** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π, –±—ã—Å—Ç—Ä—ã–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ** –∫–æ–º–∞–Ω–¥
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** sudo –ø—Ä–∞–≤ (`sudo -n true`)
- **–£–º–Ω—ã–π –≤–≤–æ–¥ –ø–∞—Ä–æ–ª—è** sudo –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** API (Swagger UI)
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Docker** –æ–±—Ä–∞–∑ –Ω–∞ Alpine Linux (~50MB)
- **Graceful shutdown** –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å vs Node.js

| –ú–µ—Ç—Ä–∏–∫–∞ | Python FastAPI | Node.js Express |
|---------|---------------|------------------|
| **–†–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞** | ~50MB (Alpine) | ~165MB (Alpine) |
| **–ü–∞–º—è—Ç—å (idle)** | ~25MB | ~35MB |
| **Startup –≤—Ä–µ–º—è** | ~2-3s | ~1-2s |
| **Concurrent requests** | 8000-12000/s | 10000-15000/s |
| **CPU —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** | –û—Ç–ª–∏—á–Ω–∞—è | –•–æ—Ä–æ—à–∞—è |

## üê≥ –ó–∞–ø—É—Å–∫ –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ —Ä–∞–±–æ—á–∏–π –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–µ–∫—Ç–∞
cd telegram-linux

# –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git pull origin main

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
 docker-compose down

# –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –¥–æ–∫–µ—Ä –æ–±—Ä–∞–∑ –±–µ–∑ –∫–µ—à–∞
 docker-compose build --no-cache

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å sudo –ø–∞—Ä–æ–ª—å –≤ shell
 export SUDO_PASSWORD="your_sudo_password"

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤ —Ñ–æ–Ω–µ —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º
 docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
 docker-compose logs -f

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞
 curl http://localhost:3000/

# –í—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É
 curl -X POST http://localhost:3000/execute \
    -H "Content-Type: application/json" \
    -d '{"command":"whoami"}'

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
 docker-compose stop
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|---------------|
| `SUDO_PASSWORD` | –ü–∞—Ä–æ–ª—å –¥–ª—è sudo –∫–æ–º–∞–Ω–¥ | –ø—É—Å—Ç–æ |
| `PORT` | –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ | 3000 |

### –°–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```bash
# –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç–∞
-p 8080:3000

# –¢–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø
-p 127.0.0.1:3000:3000

# –î–æ—Å—Ç—É–ø –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Å–µ—Ç–∏
--network custom-network
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ù–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `appuser`
- –û–ø—Ü–∏—è `--security-opt no-new-privileges:true`
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ (CPU, RAM)
- Read only —Ä–µ–∂–∏–º –¥–ª—è config.json

## üì° API Endpoints

### POST /execute
–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã —Ç–µ—Ä–º–∏–Ω–∞–ª–∞

```bash
curl -X POST http://localhost:3000/execute \
  -H "Content-Type: application/json" \
  -d '{"command": "ls -la"}'
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**

```json
{
  "success": true,
  "exit_code": 0,
  "stdout": "total 12\ndrwxr-xr-x ...",
  "stderr": "",
  "command": "ls -la"
}
```

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
